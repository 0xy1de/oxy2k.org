<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Oxy2K • XP Terminal (Win2k taskbar)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  /* -------------------------
     Desktop + XP / Win2k look
     ------------------------- */
  :root{
    --xp-blue-top: #0a64ad;
    --xp-blue-bot: #58a0e0;
    --xp-blue-dark:#083e74;
    --xp-frame-mid:#a7c7e9;
    --xp-frame-lite:#ffffff;
    --xp-shadow: rgba(0,0,0,.45);

    --xp-btn-red:#e95454;
    --xp-btn-yellow:#f0cc4a;
    --xp-btn-green:#72c253;

    --term-bg: #000;
    --term-fg: #e6e6e6;
    --cursor:#e6e6e6;

    /* Win2k taskbar */
    --w2k-bar:#d4d0c8;
    --w2k-edge:#808080;
    --w2k-hi:#ffffff;
    --w2k-mid:#c0c0c0;
    --w2k-dark:#404040;
    --w2k-blue:#0a64ad;
    --start-green:#008000;
  }
  html, body{
    height:100%;
    margin:0;
    background:
      radial-gradient(1100px 600px at 20% -15%, rgba(88,160,224,.15), transparent 40%),
      radial-gradient(900px 700px at 120% 120%, rgba(10,100,173,.15), transparent 50%),
      #1c3b63;
    font-family: Tahoma, Segoe UI, Verdana, sans-serif;
    user-select: none;
    overflow:hidden;
  }

  .desktop {
    position:relative;
    height:100%;
    width:100%;
    overflow:hidden;
  }

  /* Centered 404 overlay shown when minimized */
  .overlay-404{
    position:absolute; inset:0;
    display:none;
    align-items:center; justify-content:center;
    color:#ffffff;
    font-weight:900;
    letter-spacing:2px;
    text-shadow: 0 6px 14px rgba(0,0,0,.35);
    pointer-events:none;
  }
  .overlay-404 .bubble{
    font-size: clamp(64px, 12vw, 180px);
    line-height: .9;
    padding:.15em .3em;
    border-radius:18px;
    background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.3);
  }

  /* Window container with XP drop shadow */
  .xp-window{
    position:absolute;
    top:8vh; left:8vw;
    width:min(1100px, 92vw);
    height:min(720px, 78vh);
    box-shadow:
      0 18px 40px var(--xp-shadow),
      0 2px 0 rgba(255,255,255,.08) inset;
    background:
      linear-gradient(180deg, var(--xp-blue-dark), var(--xp-blue-dark)) 0 0/4px 100% no-repeat,
      linear-gradient(180deg, var(--xp-blue-dark), var(--xp-blue-dark)) 100% 0/4px 100% no-repeat,
      linear-gradient(90deg,  var(--xp-blue-dark), var(--xp-blue-dark)) 0 0/100% 4px no-repeat,
      linear-gradient(90deg,  var(--xp-blue-dark), var(--xp-blue-dark)) 0 100%/100% 4px no-repeat,
      #c7dcf1;
    border-radius: 6px;
    overflow:hidden;
  }
  .xp-window.maximized{
    top:6px; left:6px;
    width:calc(100% - 12px);
    height:calc(100% - 44px - 12px); /* leave room for taskbar */
  }
  .hidden { display:none !important; }

  /* Beveled inner frame */
  .xp-frame{
    position:absolute; inset:4px;
    background:#dbeaf9;
    border-left: 1px solid var(--xp-frame-lite);
    border-top:  1px solid var(--xp-frame-lite);
    border-right:1px solid var(--xp-frame-mid);
    border-bottom:1px solid var(--xp-frame-mid);
    box-shadow:
      inset 1px 1px 0 #f7fbff,
      inset -1px -1px 0 #a9c4e4;
    border-radius:4px;
    display:flex;
    flex-direction:column;
  }

  /* Titlebar (XP Luna) */
  .xp-titlebar{
    height:30px;
    display:flex;
    align-items:center;
    padding:0 8px;
    color:#fff;
    text-shadow: 0 1px 0 rgba(0,0,0,.45);
    background: linear-gradient(180deg, var(--xp-blue-top), var(--xp-blue-bot));
    border-bottom:1px solid #2a568a;
    position:relative;
    cursor:move;
  }
  .xp-titlebar::before{
    content:""; position:absolute; inset:0;
    background: linear-gradient(180deg, rgba(255,255,255,.35), transparent 55%);
    pointer-events:none;
  }
  .xp-title-icon{
    width:16px; height:16px; margin-right:6px;
    background:
      radial-gradient(circle at 30% 30%, #fff, #b9dcff 60%, #1b75ce 61%) no-repeat;
    border:1px solid rgba(0,0,0,.25);
    border-radius:3px;
    box-shadow: 0 0 0 1px rgba(255,255,255,.2) inset;
  }
  .xp-title{ font-weight:700; font-size:13px; letter-spacing:.2px; }
  .xp-title-spacer{ flex:1; }

  /* Round XP buttons */
  .xp-btn{
    width:18px; height:18px; border-radius:50%;
    margin-left:6px;
    border:1px solid rgba(0,0,0,.35);
    box-shadow:
      inset 0 1px 0 rgba(255,255,255,.6),
      0 1px 0 rgba(0,0,0,.25);
    display:grid; place-items:center;
    font-size:11px; line-height:0; color:#1b1b1b;
    cursor:pointer;
    user-select:none;
  }
  .xp-btn:active{ filter:brightness(.9); transform: translateY(1px); }
  .btn-min{ background: radial-gradient(circle at 30% 30%, #fff, var(--xp-btn-yellow)); }
  .btn-max{ background: radial-gradient(circle at 30% 30%, #fff, var(--xp-btn-green)); }
  .btn-close{ background: radial-gradient(circle at 30% 30%, #fff, var(--xp-btn-red)); }

  /* Content area */
  .xp-content{
    display:flex; flex-direction:column; gap:0;
    padding:8px; height: calc(100% - 30px);
  }
  .xp-status{
    font-size:12px; color:#084b8a; background:#edf4fd;
    border:1px solid #9bbbe1; border-radius:3px;
    padding:4px 8px; margin-bottom:6px;
    box-shadow: inset 0 1px 0 #fff, 0 1px 0 #ffffffb3;
  }
  .terminal{
    flex:1; background: var(--term-bg); color: var(--term-fg);
    border:2px solid #7f9db9; border-radius:2px;
    box-shadow: inset 1px 1px 0 #d4d0c8, inset -1px -1px 0 #404040;
    padding:10px 12px; overflow:auto;
  }
  pre{ margin:0; }
  code{
    font-family: "Lucida Console", "Consolas", "Courier New", monospace;
    font-size: 13px; line-height: 1.5; white-space: pre-wrap; word-break: break-word;
  }
  .cursor{
    display:inline-block; width:0.6em; height:1.1em; background:var(--cursor);
    vertical-align:-0.15em; margin-left:2px; animation:blink 1.05s steps(1) infinite;
  }
  @keyframes blink{ 50% { opacity:0; } }

  /* -------------------------
     Windows 2000 taskbar
     ------------------------- */
  .taskbar{
    position:absolute; left:0; right:0; bottom:0; height:44px;
    background: var(--w2k-bar);
    border-top: 1px solid var(--w2k-edge);
    box-shadow: inset 0 1px 0 var(--w2k-hi);
    display:flex; align-items:center; gap:6px; padding:4px 6px;
  }
  .start{
    display:flex; align-items:center; gap:6px;
    padding:3px 10px; color:#fff; font-weight:700;
    border: 1px solid #004a00;
    background:
      linear-gradient(180deg, #32b232, #0f7f0f);
    box-shadow: inset 0 1px 0 #7fe67f, 0 1px 0 #fff;
    border-radius:3px; cursor:pointer; user-select:none;
  }
  .start:active{ filter:brightness(.95); transform: translateY(1px); }
  .start .orb{
    width:16px; height:16px; border-radius:3px;
    background: radial-gradient(circle at 30% 30%, #fff, #b9dcff 60%, #1b75ce 61%);
    border:1px solid rgba(0,0,0,.25);
  }

  .task-buttons{
    flex:1; display:flex; align-items:center; gap:6px;
    height:100%; padding:2px 0;
  }
  .task-btn{
    min-width: 180px; max-width: 50vw;
    background: linear-gradient(180deg, #eef5ff, #c6d9f0);
    border: 1px solid #7f9db9;
    box-shadow: inset 0 1px 0 #fff, 0 1px 0 #fff;
    padding: 6px 10px; border-radius:2px; cursor:pointer;
    color:#000; display:flex; align-items:center; gap:6px;
    font-size:12px;
  }
  .task-btn .icon{
    width:14px; height:14px; border-radius:3px;
    background: radial-gradient(circle at 30% 30%, #fff, #b9dcff 60%, #1b75ce 61%);
    border:1px solid rgba(0,0,0,.25);
  }
  .task-btn.active{
    background: linear-gradient(180deg, #cfe6ff, #9fc3ea);
    outline: 1px solid var(--w2k-blue);
  }
  .task-btn.minimized{
    filter: grayscale(.2) brightness(.95);
  }

  .tray{
    min-width: 180px; display:flex; align-items:center; justify-content:flex-end;
    gap:10px; height:100%;
  }
  .clock{
    min-width: 92px; text-align:right; font-size:12px; color:#000;
    background: #e8e8e8; border:1px solid #9f9f9f; border-radius:2px;
    padding:6px 8px; box-shadow: inset 0 1px 0 #fff;
    font-variant-numeric: tabular-nums;
  }

  /* Selection color inside terminal */
  ::selection{ background:#3465a4; color:#fff; }
</style>
</head>
<body>
  <div class="desktop" id="desktop">
    <div class="overlay-404" id="overlay404"><div class="bubble">404</div></div>

    <div class="xp-window" id="win" aria-label="LinX Terminal window">
      <div class="xp-frame">
        <div class="xp-titlebar" id="drag-bar">
          <div class="xp-title-icon" aria-hidden="true"></div>
          <div class="xp-title">LinX Terminal — downloads_page.cmd</div>
          <div class="xp-title-spacer"></div>
          <div class="xp-btn btn-min" id="btn-min" title="Minimize">–</div>
          <div class="xp-btn btn-max" id="btn-max" title="Maximize">▢</div>
          <div class="xp-btn btn-close" id="btn-close" title="Close">×</div>
        </div>

        <div class="xp-content">
          <div class="xp-status">Path: C:\Documents and Settings\Downloads\downloads_page.cmd &nbsp; | &nbsp; Build: Debug &nbsp; | &nbsp; Target: Windows XP SP3</div>
          <div class="terminal">
            <pre><code id="output"></code><span class="cursor" id="cursor"></span></pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Windows 2000 Taskbar -->
    <div class="taskbar" id="taskbar">
      <div class="start" title="Start"><div class="orb"></div><span>Start</span></div>
      <div class="task-buttons">
        <div class="task-btn active" id="task-app" title="LinX Terminal">
          <div class="icon"></div><span>LinX Terminal — downloads_page.cmd</span>
        </div>
      </div>
      <div class="tray">
        <div class="clock" id="clock" aria-live="polite">--:--</div>
      </div>
    </div>
  </div>

  <!-- Phony Windows commands -->
  <script type="text/plain" id="rust-source">
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\Oxyde>title Oxy2K Deployment Console
C:\Documents and Settings\Oxyde>color 0a
C:\Documents and Settings\Oxyde>echo Initializing Oxy2K environment...
Initializing Oxy2K environment...

C:\Documents and Settings\Oxyde>ver
Microsoft Windows XP [Version 5.1.2600]

C:\Documents and Settings\Oxyde>echo Checking prerequisites...
Checking prerequisites...

C:\Documents and Settings\Oxyde>if not exist C:\Oxy2K\NUL (echo Creating C:\Oxy2K & mkdir C:\Oxy2K)
Creating C:\Oxy2K

C:\Documents and Settings\Oxyde>if not exist C:\Oxy2K\downloads\NUL (echo Creating downloads folder & mkdir C:\Oxy2K\downloads)
Creating downloads folder

C:\Documents and Settings\Oxyde>set OXY_ENABLE_DOWNLOADS=1
C:\Documents and Settings\Oxyde>set OXY_MAINTENANCE=0
C:\Documents and Settings\Oxyde>set MAX_RENDER=250
C:\Documents and Settings\Oxyde>echo Flags: ENABLE_DOWNLOADS=%OXY_ENABLE_DOWNLOADS%  MAINT=%OXY_MAINTENANCE%  CAP=%MAX_RENDER%
Flags: ENABLE_DOWNLOADS=1  MAINT=0  CAP=250

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Warm-up checks ===
=== Warm-up checks ===

C:\Documents and Settings\Oxyde>if "%OXY_MAINTENANCE%"=="1" (echo [MAINT] Downloads offline & goto :EOF)
C:\Documents and Settings\Oxyde>if not "%OXY_ENABLE_DOWNLOADS%"=="1" (echo [DISABLED] Feature flag off & goto :EOF)

C:\Documents and Settings\Oxyde>echo Feature flags OK.
Feature flags OK.

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Listing local packages ===
=== Listing local packages ===

C:\Documents and Settings\Oxyde>dir /b C:\Oxy2K\downloads
File not found

C:\Documents and Settings\Oxyde>echo No local downloads found. Seeding test artifacts...
No local downloads found. Seeding test artifacts...

C:\Documents and Settings\Oxyde>copy /y NUL C:\Oxy2K\downloads\oxyde-compositor-0.1.0-alpha.tar.xz >NUL
C:\Documents and Settings\Oxyde>copy /y NUL C:\Oxy2K\downloads\oxyde-fm-0.0.7.zip >NUL
C:\Documents and Settings\Oxyde>attrib +a C:\Oxy2K\downloads\*

C:\Documents and Settings\Oxyde>dir C:\Oxy2K\downloads
 Volume in drive C has no label.
 Volume Serial Number is BEEF-1001

 Directory of C:\Oxy2K\downloads

10/03/2025  10:42 AM    <A>                0 oxyde-compositor-0.1.0-alpha.tar.xz
10/03/2025  10:42 AM    <A>                0 oxyde-fm-0.0.7.zip
               2 File(s)              0 bytes
               0 Dir(s)   42,694,823,936 bytes free

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Calculating checksums (phony) ===
=== Calculating checksums (phony) ===

C:\Documents and Settings\Oxyde>for %F in (C:\Oxy2K\downloads\*) do @echo %~nxF & echo   sha256: deadbeef%random%%random%%random%
oxyde-compositor-0.1.0-alpha.tar.xz
  sha256: deadbeef164551321296
oxyde-fm-0.0.7.zip
  sha256: deadbeef29168190174

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Selecting up to %MAX_RENDER% entries ===
=== Selecting up to 250 entries ===

C:\Documents and Settings\Oxyde>for /f "tokens=*" %L in ('dir /b /o:-d C:\Oxy2K\downloads') do @echo   + %L
  + oxyde-fm-0.0.7.zip
  + oxyde-compositor-0.1.0-alpha.tar.xz

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Validating entries (name, version, url presence) ===
=== Validating entries (name, version, url presence) ===

C:\Documents and Settings\Oxyde>for /f "tokens=1,2 delims=-" %A in ('dir /b C:\Oxy2K\downloads\*.zip *.xz') do @if not "%~A"=="" (echo   [OK] %~nA %~B) else (echo   [SKIP] %~nA)
  [OK] oxyde  fm
  [OK] oxyde  compositor

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Building faux HTML (console print) ===
=== Building faux HTML (console print) ===

C:\Documents and Settings\Oxyde>echo <!doctype html>
<!doctype html>
C:\Documents and Settings\Oxyde>echo <h1>Downloads</h1>
<h1>Downloads</h1>
C:\Documents and Settings\Oxyde>echo <p>Grab builds, tools, and goodies for LinX OS & Oxyde.</p>
<p>Grab builds, tools, and goodies for LinX OS & Oxyde.</p>
C:\Documents and Settings\Oxyde>for %F in (C:\Oxy2K\downloads\*) do @echo - %~nxF
- oxyde-compositor-0.1.0-alpha.tar.xz
- oxyde-fm-0.0.7.zip

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Rate-limit check (pretend) ===
=== Rate-limit check (pretend) ===
C:\Documents and Settings\Oxyde>set OXY_BOT=0
C:\Documents and Settings\Oxyde>if "%OXY_BOT%"=="1" (echo [429] Too many requests & goto :EOF)
C:\Documents and Settings\Oxyde>echo Passed.
Passed.

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Mirror fallback demo ===
=== Mirror fallback demo ===
C:\Documents and Settings\Oxyde>set PRIMARY_URL=https://oxy2k.org/dl/oxyde-compositor-0.1.0-alpha.tar.xz
C:\Documents and Settings\Oxyde>set MIRROR_URL=https://mirror.oxy2k.org/oxyde-fm-0.0.7.zip
C:\Documents and Settings\Oxyde>echo Primary: %PRIMARY_URL%
Primary: https://oxy2k.org/dl/oxyde-compositor-0.1.0-alpha.tar.xz
C:\Documents and Settings\Oxyde>echo Mirror:  %MIRROR_URL%
Mirror:  https://mirror.oxy2k.org/oxyde-fm-0.0.7.zip
C:\Documents and Settings\Oxyde>echo If primary missing -> use mirror (OK)
If primary missing -> use mirror (OK)

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Truncation guard (MAX_RENDER=%MAX_RENDER%) ===
=== Truncation guard (MAX_RENDER=250) ===

C:\Documents and Settings\Oxyde>for /l %I in (1,1,3) do @echo   Rendering %I of 3...
  Rendering 1 of 3...
  Rendering 2 of 3...
  Rendering 3 of 3...

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Integrity (mock) ===
=== Integrity (mock) ===

C:\Documents and Settings\Oxyde>for %F in (C:\Oxy2K\downloads\*) do @echo %~nxF & echo   sha256: %random%%random%%random% & echo   size: %random% bytes
oxyde-compositor-0.1.0-alpha.tar.xz
  sha256: 208852185423190
  size: 17403 bytes
oxyde-fm-0.0.7.zip
  sha256: 30210520225285
  size: 11847 bytes

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Search demo: findstr ===
=== Search demo: findstr ===
C:\Documents and Settings\Oxyde>type C:\Oxy2K\README.txt 2>NUL
The system cannot find the file specified.

C:\Documents and Settings\Oxyde>echo alpha release note> C:\Oxy2K\README.txt
C:\Documents and Settings\Oxyde>findstr /i "alpha" C:\Oxy2K\README.txt
alpha release note

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Fake network ops ===
=== Fake network ops ===

C:\Documents and Settings\Oxyde>ping oxy2k.org -n 1
Pinging oxy2k.org [203.0.113.42] with 32 bytes of data:
Reply from 203.0.113.42: bytes=32 time=42ms TTL=54

Ping statistics for 203.0.113.42:
    Packets: Sent = 1, Received = 1, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 42ms, Maximum = 42ms, Average = 42ms

C:\Documents and Settings\Oxyde>ipconfig /all | findstr /r "IP Address DNS"
        IP Address. . . . . . . . . . . . : 192.168.1.77
        DNS Servers . . . . . . . . . . . : 1.1.1.1
                                            9.9.9.9

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === System snapshot (mock) ===
=== System snapshot (mock) ===

C:\Documents and Settings\Oxyde>tasklist | findstr /i "cmd explorer"
explorer.exe                 1512 Console                 1     22,144 K
cmd.exe                      3248 Console                 1      2,912 K

C:\Documents and Settings\Oxyde>systeminfo | findstr /B /C:"OS Name" /C:"OS Version"
OS Name:                   Microsoft Windows XP Professional
OS Version:                5.1.2600 Service Pack 3 Build 2600

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Maintenance tasks (scheduled) ===
=== Maintenance tasks (scheduled) ===

C:\Documents and Settings\Oxyde>chkdsk C: /f
The type of the file system is NTFS.
Chkdsk cannot run because the volume is in use by another
process. Would you like to schedule this volume to be
checked the next time the system restarts? (Y/N) y
This volume will be checked the next time the system restarts.

C:\Documents and Settings\Oxyde>sfc /scannow
Beginning system scan.  This process will take some time.
Verification 100% complete.
Windows Resource Protection did not find any integrity violations.

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Cache shim (pretend) ===
=== Cache shim (pretend) ===
C:\Documents and Settings\Oxyde>set OXY_CACHE_KEY=downloads:index:v1
C:\Documents and Settings\Oxyde>echo Serving from cache: %OXY_CACHE_KEY% (miss)
Serving from cache: downloads:index:v1 (miss)
C:\Documents and Settings\Oxyde>echo Populating cache... done.
Populating cache... done.

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Render summary ===
=== Render summary ===
C:\Documents and Settings\Oxyde>echo Items rendered: 2
Items rendered: 2
C:\Documents and Settings\Oxyde>echo Truncated:   0 (cap=%MAX_RENDER%)
Truncated:   0 (cap=250)
C:\Documents and Settings\Oxyde>echo Errors:      0
Errors:      0
C:\Documents and Settings\Oxyde>echo Source:      disk (fallback: mirror)
Source:      disk (fallback: mirror)

C:\Documents and Settings\Oxyde>echo.
C:\Documents and Settings\Oxyde>echo === Done. Press any key to continue... ===
=== Done. Press any key to continue... ===
  </script>

  <script>
  // ----- Window dragging -----
  (function(){
    const win = document.getElementById('win');
    const bar = document.getElementById('drag-bar');
    let offX=0, offY=0, dragging=false;

    bar.addEventListener('mousedown', e=>{
      if (win.classList.contains('maximized')) return; // don't drag when maximized
      dragging = true;
      const rect = win.getBoundingClientRect();
      offX = e.clientX - rect.left;
      offY = e.clientY - rect.top;
      e.preventDefault();
    });
    window.addEventListener('mousemove', e=>{
      if(!dragging) return;
      const x = e.clientX - offX;
      const y = e.clientY - offY;
      win.style.left = Math.max(0, Math.min(window.innerWidth - win.offsetWidth, x)) + 'px';
      win.style.top  = Math.max(0, Math.min(window.innerHeight - win.offsetHeight - 44, y)) + 'px';
    });
    window.addEventListener('mouseup', ()=> dragging=false);
  })();

  // ----- Typewriter -----
  (function(){
    const src = document.getElementById('rust-source').textContent.replace(/\r\n/g, '\n');
    const out = document.getElementById('output');
    const cursor = document.getElementById('cursor');

    const baseDelay = 9, jitter = 25, newlineBoost = 16;
    let i = 0;
    function typeNext(){
      if(i >= src.length){ return; }
      const ch = src[i++]; out.textContent += ch;
      let delay = baseDelay + Math.random()*jitter;
      if(ch === '\n') delay += newlineBoost;
      cursor.scrollIntoView({block:'end'});
      setTimeout(typeNext, delay);
    }
    setTimeout(typeNext, 300);
  })();

  // ----- Win2k Taskbar clock -----
  (function(){
    const el = document.getElementById('clock');
    function pad(n){ return (n<10?'0':'')+n; }
    function tick(){
      const now = new Date();
      // 24h/12h toggle? Windows 2000 default shows HH:MM (12h) — we'll do 12h with AM/PM
      let h = now.getHours();
      const ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12; if (h === 0) h = 12;
      el.textContent = `${h}:${pad(now.getMinutes())} ${ampm}`;
    }
    tick(); setInterval(tick, 1000);
  })();

  // ----- Window controls (min/max/close) + taskbar integration -----
  (function(){
    const win = document.getElementById('win');
    const overlay = document.getElementById('overlay404');
    const btnMin = document.getElementById('btn-min');
    const btnMax = document.getElementById('btn-max');
    const btnClose = document.getElementById('btn-close');
    const taskBtn = document.getElementById('task-app');

    const minimizedClass = 'minimized';
    let isMin = false;
    let isClosed = false;

    function show404(show){
      overlay.style.display = show ? 'flex' : 'none';
    }
    function setTaskActive(active){
      taskBtn.classList.toggle('active', active);
      taskBtn.classList.toggle('minimized', !active);
    }

    function minimize(){
      if (isClosed) isClosed = false; // reopening via minimize path
      win.classList.add('hidden');
      show404(true);
      isMin = true;
      setTaskActive(false);
    }
    function restore(){
      win.classList.remove('hidden');
      show404(false);
      isMin = false;
      isClosed = false;
      setTaskActive(true);
    }
    function toggleMax(){
      win.classList.toggle('maximized');
    }
    function closeWin(){
      win.classList.add('hidden');
      show404(false); // typical close hides app; keep desktop visible
      isClosed = true;
      isMin = false;
      setTaskActive(false);
    }

    btnMin.addEventListener('click', minimize);
    btnMax.addEventListener('click', toggleMax);
    btnClose.addEventListener('click', closeWin);

    // Taskbar button toggles: if closed or minimized -> restore, else minimize
    taskBtn.addEventListener('click', ()=>{
      if (win.classList.contains('hidden')) {
        restore();
      } else {
        minimize();
      }
    });

    // Double-click title bar to maximize/restore (classic behavior)
    document.getElementById('drag-bar').addEventListener('dblclick', toggleMax);
  })();
  </script>
</body>
</html>